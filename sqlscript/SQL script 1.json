{
	"name": "SQL script 1",
	"properties": {
		"content": {
			"query": "IF (NOT EXISTS(SELECT * FROM sys.credentials WHERE name = 'cosmosl360csx1'))\n    THROW 50000, 'As a prerequisite, create a credential with Azure Cosmos DB key in SECRET option:\n    CREATE CREDENTIAL [cosmosl360csx1]\n    WITH IDENTITY = ''SHARED ACCESS SIGNATURE'', SECRET = ''aAyn9XZJd0n38hX49DmExZabOABcd3eHtxEGkkc0hPtkysmUHsQH07DoYm2kFXSCmQqvx7xCz9dfACDbUG9kqQ==''', 0\nGO\n\nSELECT TOP 100 *\nFROM OPENROWSET(​PROVIDER = 'CosmosDB',\n                CONNECTION = 'Account=cosmosl360csx1;Database=AdventureWorks',\n                OBJECT = 'Sales',\n                SERVER_CREDENTIAL = 'cosmosl360csx1'\n) AS [Sales]\n\n\n CREATE CREDENTIAL [cosmosxxxxxxxx]\n WITH IDENTITY = 'SHARED ACCESS SIGNATURE',\n SECRET = '<Enter your Azure Cosmos DB key here>'\n GO\n\n -----------\n\n CREATE CREDENTIAL [synapsel360csx]\n WITH IDENTITY = 'SHARED ACCESS SIGNATURE',\n SECRET = '<Enter your Azure Cosmos DB key here>'\n GO\n\n SELECT TOP 100 *\n FROM OPENROWSET(​PROVIDER = 'CosmosDB',\n                 CONNECTION = 'Account=cosmosxxxxxxxx;Database=AdventureWorks',\n                 OBJECT = 'Sales',\n                 SERVER_CREDENTIAL = 'cosmosxxxxxxxx'\n ) AS [Sales]\n---------------\n\n  CREATE CREDENTIAL [cosmosxxxxxxxx]\n WITH IDENTITY = 'SHARED ACCESS SIGNATURE',\n SECRET = 'aAyn9XZJd0n38hX49DmExZabOABcd3eHtxEGkkc0hPtkysmUHsQH07DoYm2kFXSCmQqvx7xCz9dfACDbUG9kqQ=='\n GO\n\n SELECT TOP 100 *\n FROM OPENROWSET(​PROVIDER = 'CosmosDB',\n                 CONNECTION = 'Account=cosmosxxxxxxxx;Database=AdventureWorks',\n                 OBJECT = 'Sales',\n                 SERVER_CREDENTIAL = 'cosmosxxxxxxxx'\n ) AS [Sales]\n\n\n  SELECT *\n FROM OPENROWSET(​PROVIDER = 'CosmosDB',\n                 CONNECTION = 'Account=cosmosxxxxxxxx;Database=AdventureWorks',\n                 OBJECT = 'Sales',\n                 SERVER_CREDENTIAL = 'cosmosxxxxxxxx'\n )\n WITH (\n     OrderID VARCHAR(10) '$.id',\n     OrderDate VARCHAR(10) '$.orderdate',\n     CustomerID INTEGER '$.customerid',\n     CustomerName VARCHAR(40) '$.customerdetails.customername',\n     CustomerEmail VARCHAR(30) '$.customerdetails.customeremail',\n     Product VARCHAR(30) '$.product',\n     Quantity INTEGER '$.quantity',\n     Price FLOAT '$.price'\n )\n AS sales\n ORDER BY OrderID;\n\n------------------------------\n\n CREATE CREDENTIAL [cosmosl360csx1]\n WITH IDENTITY = 'SHARED ACCESS SIGNATURE',\n SECRET = 'aAyn9XZJd0n38hX49DmExZabOABcd3eHtxEGkkc0hPtkysmUHsQH07DoYm2kFXSCmQqvx7xCz9dfACDbUG9kqQ=='\n GO\n\n SELECT TOP 100 *\n FROM OPENROWSET(​PROVIDER = 'CosmosDB',\n                 CONNECTION = 'Account=cosmosl360csx1;Database=AdventureWorks',\n                 OBJECT = 'Sales',\n                 SERVER_CREDENTIAL = 'cosmosl360csx1'\n ) AS [Sales]\n ---------------------------------\n  SELECT *\n FROM OPENROWSET(​PROVIDER = 'CosmosDB',\n                 CONNECTION = 'Account=cosmosl360csx1;Database=AdventureWorks',\n                 OBJECT = 'Sales',\n                 SERVER_CREDENTIAL = 'cosmosl360csx1'\n )\n WITH (\n     OrderID VARCHAR(10) '$.id',\n     OrderDate VARCHAR(10) '$.orderdate',\n     CustomerID INTEGER '$.customerid',\n     CustomerName VARCHAR(40) '$.customerdetails.customername',\n     CustomerEmail VARCHAR(30) '$.customerdetails.customeremail',\n     Product VARCHAR(30) '$.product',\n     Quantity INTEGER '$.quantity',\n     Price FLOAT '$.price'\n )\n AS sales\n ORDER BY OrderID;\n",
			"metadata": {
				"language": "sql"
			},
			"currentConnection": {
				"databaseName": "master",
				"poolName": "Built-in"
			},
			"resultLimit": 5000
		},
		"type": "SqlQuery"
	}
}